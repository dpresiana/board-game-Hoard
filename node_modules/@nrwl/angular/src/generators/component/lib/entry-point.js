"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.shouldExportInEntryPoint = void 0;
const path_1 = require("../../utils/path");
const ensure_typescript_1 = require("@nrwl/js/src/utils/typescript/ensure-typescript");
function shouldExportInEntryPoint(tree, entryPoint, modulePath) {
    if (!modulePath) {
        return false;
    }
    (0, ensure_typescript_1.ensureTypescript)();
    const { tsquery } = require('@phenomnomnominal/tsquery');
    const moduleImportPath = (0, path_1.getRelativeImportToFile)(entryPoint, modulePath);
    const entryPointContent = tree.read(entryPoint, 'utf-8');
    const entryPointAst = tsquery.ast(entryPointContent);
    const moduleExport = tsquery(entryPointAst, `ExportDeclaration StringLiteral[value='${moduleImportPath}']`, { visitAllChildren: true })[0];
    return Boolean(moduleExport);
}
exports.shouldExportInEntryPoint = shouldExportInEntryPoint;
//# sourceMappingURL=entry-point.js.map